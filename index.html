<!DOCTYPE html>
<html>
<head>
	<title>hfe242-DSA/A-14082024</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./assets/css/bundled.css">
    <script src="./assets/js/bundled.js"></script>
    <script src="https://alcdn.msauth.net/browser/2.19.0/js/msal-browser.min.js"></script>
    <script type="text/javascript">
        // MSAL-Konfiguration
        const msalConfig = {
            auth: {
                clientId: "2e358634-c519-4968-9b1e-c1168873766f", // Ersetze mit deiner Application ID
                authority: "https://login.microsoftonline.com/cd5c6082-4849-4c49-a171-0044e130d518", // Ersetze mit deiner Tenant ID
                redirectUri: "https://Ri-Ka.github.io/DGN-Examen" // Deine GitHub Pages URL
            }
        };

        const msalInstance = new msal.PublicClientApplication(msalConfig);

        // Login-Funktion mit MSAL
        function login() {
            const loginRequest = {
                scopes: ["User.Read"]
            };

            msalInstance.loginPopup(loginRequest)
                .then(response => {
                    console.log("Erfolgreich angemeldet:", response);
                    document.getElementById("content").style.display = "block"; // Zeigt den geschützten Inhalt an
                })
                .catch(error => {
                    console.error("Anmeldefehler:", error);
                    alert("Zugriff nur für autorisierte Benutzer.");
                });
        }

        // Rufe Login bei Seitenaufruf auf
        window.onload = login;
    </script>

    <script type="text/javascript">var subtitles = {
			T_21053: {
                lang: "en",
                name: "English",
                tracks: [
                T(TTime("00:00:00.000:00"), TTime("00:00:03.000:00"), "Kun tekst, der er relevant for opgavebesvarelsen, er tekstet til talesyntese."),
				T(TTime("00:00:53.500:00"), TTime("00:00:57.500:00"), "Det er tid til at ændre billedet på dansk idyl, hvis vi gerne vil bevare den"),
				T(TTime("00:00:58.000:00"), TTime("00:01:00.000:00"), "andel<br>Grønnere fremtid for alle")
                ]
        	}
		};

        function UndefinedToZero(value) {
            if(typeof value === "undefined") {
                return 0;
            }
            return value;
        }

        function _Time(frames, seconds, minutes, hours) {
            frames = UndefinedToZero(frames) / 24;
            seconds = UndefinedToZero(seconds);
            minutes = UndefinedToZero(minutes) * 60;
            hours = UndefinedToZero(hours) * 3600;
            return hours + minutes + seconds + frames;
        }

        function TTime(value) {
            if(typeof value === "undefined") {
                value = "00:00:00:00";
            }
            var split = value.split(":");
            var frames = (split[3]*1)/24;
            var seconds = split[2]*1;
            var minutes = (split[1]*1)*60;
            var hours = (split[0]*1)*3600;
            var output = hours + minutes + seconds + frames;
            return output;
        }

        function T(start, end, text, direction) {
            if(typeof direction === "undefined") {
                direction = "ltr";
            }
            return {
                start: start,
                end: end,
                text: text,
                direction: direction
            }
        }</script>

</head>
<body>
    <style>
        a:hover {
            cursor: pointer;
        } 

        .content-editable {
            position: relative; 
        }

        .draggable-reading-field {
            display: inline-block; 
            position: absolute; 
            z-index: 9; 
            border: 1px solid gray;
            padding: 2px;
        }

        .draggable-reading-field-invisible {
            opacity: 0 !important;
            border-style: none;
        }

        .line-numbers-container {
            resize: none !important;
            border: none !important;
            padding: 0 !important;
            counter-reset: line;
        }

        .line-numbers-container p.numbered-line {
            margin-block-start: 0;
            margin-block-end: 0;
        }

        .line-numbers-container .numbered-line:before {
            content: counter(line);
            counter-increment: line;
            color: #888;
            visibility: hidden;
            display: inline-block;
            width: auto;
            min-width: 18px;
            padding-left: 8px;
            padding-right: 10px;
            text-align: right;
            font-weight: 100;
            font-size: 1rem;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        .line-numbers-container .numbered-line:first-child:before, 
        .line-numbers-container .numbered-line:nth-child(5n of .numbered-line):before {
            visibility: visible;
        }
    </style>
    <!-- Geschützter Inhalt -->
    <div id="content" style="display: none;">
        <div class="skabelon">
            <!-- Rest deines HTML-Codes... -->
            <header class="skabelon-header">
                <div class="skabelon-header-institution_logo" style="position:relative">
                    <p style="position: absolute; color: transparent;">Højere forberedelseseksamen</p>
                </div>
                <img alt="" class="skabelon-header-stuk_logo" id="uvm_logo" src="assets/images/uvm_logo_stuk.png">
            </header>
            <!-- Hier kannst du den restlichen Inhalt wie im Original belassen -->
        </div>
    </div>

    <!-- Rest deines JS für Interaktionen -->
    <script>
        (function resetWordCounters() {
            var wordCounters = document.getElementsByClassName('word-counter')
            Array.prototype.forEach.call(wordCounters, function(wordCounter) {
                wordCounter.innerHTML = 0;
            });
        })();

        function countWords(obj) {
            let res = [];
            let str = obj.value.replace(/[\t\n\r\.\?\!]/gm, ' ').split(' ');
            str.map((s) => {
                let trimStr = s.trim();
                if (trimStr.length > 0)
                {
                  res.push(trimStr);
                }
            });
            obj.closest('.wordcount-textarea').getElementsByClassName('word-counter')[0].innerHTML = res.length;
        }
    </script>
    <script>
        function changeDocument(element) {
            document.querySelectorAll(".web-document").forEach(element => {
                if(element.classList.contains("web-document-active")) {
                    element.classList.remove("web-document-active");
                }
            });
            var webDocument = document.getElementById("web-document-" + element.getAttribute("data-document-id"));
            if (!webDocument.classList.contains("web-document-active")) {
                webDocument.classList.add("web-document-active");
            }
            this.changeActiveMenuLink(element.id);
        }

        function changeActiveMenuLink(elementId) {
            document.querySelectorAll(".web-document-link").forEach(element => {
                if(element.classList.contains("active")) {
                    element.classList.remove("active");
                }
            });

            var activeElement = document.getElementById(elementId);
            if (!activeElement.classList.contains("active")) {
                activeElement.classList.add("active");
            }

            var activeElementParentId = activeElement.getAttribute("data-document-id");
            if (activeElement.hasAttribute("data-parent-document-id")) {
                activeElementParentId = activeElement.getAttribute("data-parent-document-id");
            }

            document.querySelectorAll(".web-document-link").forEach(document => {
                if(document.classList.contains("parent-document") || activeElementParentId == document.getAttribute("data-parent-document-id")) {
                    document.classList.remove("noActiveRelation");
                } else {
                    document.classList.add("noActiveRelation");
                }
            });
        }

        VideoPlayer.InitPlayers('.web-document-active .new-player');
        VideoPlayer.PauseAll();
    </script>
</body>
</html>
